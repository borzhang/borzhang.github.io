<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Procedure of Blogging with Pelican and Github on Windows - zuomo</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://borzhang.github.io/procedure-of-blogging-with-pelican-and-github-on-windows.html">

        <meta name="author" content="borzhang" />
        <meta name="keywords" content="pelican" />
        <meta name="description" content="First of all, writting this note highly depends on a tutorial. Many thanks to the author. The Pelican Part If you are writing articles with markdown, namely your blog article files are ended with .md, then you need to install markdown package in addition to pelican, namely pip install pelican …" />

        <meta property="og:site_name" content="zuomo" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Procedure of Blogging with Pelican and Github on Windows"/>
        <meta property="og:url" content="https://borzhang.github.io/procedure-of-blogging-with-pelican-and-github-on-windows.html"/>
        <meta property="og:description" content="First of all, writting this note highly depends on a tutorial. Many thanks to the author. The Pelican Part If you are writing articles with markdown, namely your blog article files are ended with .md, then you need to install markdown package in addition to pelican, namely pip install pelican …"/>
        <meta property="article:published_time" content="2016-10-02" />
            <meta property="article:section" content="misc" />
            <meta property="article:tag" content="pelican" />
            <meta property="article:author" content="borzhang" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://borzhang.github.io/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="https://borzhang.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://borzhang.github.io/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="https://borzhang.github.io/theme/css/style.css" type="text/css"/>

        <link href="https://borzhang.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="zuomo ATOM Feed"/>



        <link href="https://borzhang.github.io/feeds/misc.atom.xml" type="application/atom+xml" rel="alternate"
              title="zuomo misc ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://borzhang.github.io/" class="navbar-brand">
zuomo            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="https://borzhang.github.io/category/misc.html">Misc</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://borzhang.github.io/procedure-of-blogging-with-pelican-and-github-on-windows.html"
                       rel="bookmark"
                       title="Permalink to Procedure of Blogging with Pelican and Github on Windows">
                        Procedure of Blogging with Pelican and Github on Windows
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-10-02T14:45:00+08:00"> Sun, 02 Oct 2016</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://borzhang.github.io/tag/pelican.html">pelican</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>First of all, writting this note highly depends on <a href="https://spapas.github.io/2013/10/07/pelican-static-windows/">a tutorial</a>. Many thanks to the author.</p>
<p><strong>The Pelican Part</strong></p>
<ol>
<li>
<p>If you are writing articles with markdown, namely your blog article files are ended with <code>.md</code>, then you need to install <code>markdown</code> package in addition to <code>pelican</code>, 
namely <code>pip install pelican markdown</code>, otherwise your articles cannot be identified. </p>
</li>
<li>
<p>Create directory <code>username.github.io</code> (main directory) under your working directory.</p>
</li>
<li>
<p>Under <code>username.github.io\</code> run <code>cmd</code>, then <code>pelican-quickstart</code>. 
Answer a bunch of questions, note that url is <code>username.github.io</code>. 
Then there will be several dirs/files created in current directory.</p>
</li>
<li>
<p>Under <code>content</code> directory, edit your article, say <code>test.md</code>. 
Notice that you should at least add the meta data <code>Title: the article title</code> at the head of file. 
<code>Date</code> is also required, or adding the following lines to <code>pelicanconf.py</code>:</p>
<div class="highlight"><pre><span></span>DEFAULT_DATE = &#39;fs&#39;
DATE_FORMATS = {
    &#39;en&#39;: (&#39;usa&#39;,&#39;%a, %d %b %Y&#39;),
}
</pre></div>


</li>
<li>
<p>Pick a theme. I chose <code>pelican-boostrap3</code>. 
Just find it on internet and <code>git clone</code> it as a folder nearby the main directory, then add </p>
<div class="highlight"><pre><span></span>THEME = &quot;../pelican-bootstrap3&quot;
</pre></div>


<p>in <code>pelicanconf.py</code>.</p>
</li>
<li>
<p>Back to main directory. 
Run the <code>pelican</code> command to generate your site:</p>
<div class="highlight"><pre><span></span>pelican content
</pre></div>


<p>Or instead create a bat file, say, <code>pelrun.bat</code>:</p>
<div class="highlight"><pre><span></span>pelican content --debug --autoreload  --output output --settings pelicanconf.py
</pre></div>


<p>Then run <code>start pelrun.bat</code>. 
That will genereate your site to <code>output</code>.
Don't cut down this bat command, because it's in debug mode.</p>
</li>
<li>
<p>Get into <code>output</code> then run <code>python -m pelican.server</code> to preview your site.
Or instead create another bat file, say, <code>pelserve.bat</code>:</p>
<div class="highlight"><pre><span></span>pushd output
python -m pelican.server
popd
</pre></div>


<p>Then run <code>start pelserve.bat</code>.
You can preview the site through <a href="http://localhost:8000/">http://localhost:8000/</a>, and you can even dynamically update it if you use the bat files above.</p>
</li>
<li>
<p>Actually the basic process of blogging involving the content is done. 
After editting and debugging, you may want a final version to be published. 
Back to main directory. 
There's a subtle part of the configuration file <code>publishconf.py</code>:</p>
<div class="highlight"><pre><span></span>SITEURL = &#39;https://username.github.io&#39;
RELATIVE_URLS = False
</pre></div>


<p><code>RELATIVE_URLS</code> needs to be <code>False</code> and <code>SITEURL</code> needs to be started with <code>https://</code>, otherwise problems may appear, especially with Disqus.
Create another bat file, say, <code>pelpub.bat</code>:</p>
<div class="highlight"><pre><span></span>pelican content --output output --settings publishconf.py
</pre></div>


<p>Notice here we use a different configuration file where some publishing information stored. 
Notice that <code>from pelicanconf import *</code> has been added in that conf file.</p>
</li>
<li>
<p>In order to print math formula, you need a plugin named <code>render_math</code>. 
I also added a plugin named <code>summary</code> whose function I really cannot remember.
Download and configure them just like themes:</p>
<div class="highlight"><pre><span></span>PLUGIN_PATHS = [&#39;../pelican-plugins&#39;]
PLUGINS = [&#39;summary&#39;, 
            &#39;render_math&#39;,
            &#39;tag_cloud&#39;,
            ]
</pre></div>


<p>Notice that <code>tag_cloud</code> is used together with </p>
<div class="highlight"><pre><span></span>DISPLAY_TAGS_ON_SIDEBAR = True
DISPLAY_TAGS_INLINE = True
</pre></div>


<p>in the special case that pelican-bootstrap3 theme is used.
Refer to <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3">the readme of this theme</a>. 
I prefer to use tags than catagories.
Btw, for this very theme, set </p>
<div class="highlight"><pre><span></span>DISPLAY_ARTICLE_INFO_ON_INDEX = True
</pre></div>


<p>to display date and tags info on the default index page.</p>
</li>
<li>
<p>There's other terms and options in <code>pelicanconf.py</code> including links and social. 
You should refer to the official site of pelican as well as readme of the theme you are using.</p>
</li>
<li>
<p>To add comment function, add following line in <code>publishconf.py</code>:</p>
<div class="highlight"><pre><span></span>DISQUS_SITENAME = &quot;username&quot;
</pre></div>


<p>Of course you have to resgister a Disqus account. 
Just sign up then "get started" and input your site url.</p>
</li>
</ol>
<p><strong>The Github Part</strong></p>
<ol>
<li>
<p>Create a repository on github, refer to <a href="https://pages.github.com/">the site of github pages</a>, only the first step is enough. 
The name will be <code>username.github.io</code>.</p>
</li>
<li>
<p>My strategy of building blog on github is like this: 
There're two branches in the remote origin: 
one is master, which contains the real website stuff, the other is source, which contains the source code. 
Accordingly, there should be two branches in local repo, but <code>output</code> is a subdirectory under main directory, it's hard to arrange one single local repo because of that file structure. 
So it's reasonable to create two local repos pointing to the same remote repo <code>origin</code>, one corresponding to <code>origin/master</code> branch, the other with <code>origin/source</code> branch. 
The git procedure will first push the website to remote, then push the source (acutally the order does not matter). </p>
</li>
<li>
<p>Get into <code>output</code> first.
Initialize the site repo, namely <code>output</code>. 
Then connect to remote repo <code>origin</code>, push your site to it. 
Your local branch (the unique branch you have in this local repo) <code>master</code> will be copied to <code>origin/master</code> branch.</p>
<div class="highlight"><pre><span></span>git init
git add .
git commit -m Initial
git remote add origin https://github.com/username/username.github.io.git
git push origin master --force
</pre></div>


<p>Now you can visit you blog on http://username.github.io. </p>
</li>
<li>
<p>Back to main directory. 
In order to get the source code to cloud, you can push the whole source to github, though a non-master branch. 
Then the url username.github.io still corresponds to <code>origin/master</code>, namely your site files, but you also have the source code hiding in another branch.
First add a <code>.gitignore</code> file in main directory:</p>
<div class="highlight"><pre><span></span>output
cache
*.pyc
</pre></div>


<p>Then do all the git procedure:</p>
<div class="highlight"><pre><span></span>git init
git add .
git commit -m Initial
git branch -m master source
git remote add origin https://github.com/username/username.github.io.git
git push origin source
</pre></div>


<p>An <code>origin/source</code> branch will be created afterwards.</p>
</li>
</ol>
<p><strong>Sync the blog with a new computer</strong></p>
<ol>
<li>
<p>If you are going to another place with another computer, then you need to sync the blog to your new computer. 
The intuitive method is <code>git clone</code>:</p>
<div class="highlight"><pre><span></span>git clone https://github.com/username/username.github.io.git
</pre></div>


<p>Then a directory <code>username.github.io</code> will be built in your current path. 
But it seems to include only the <code>output</code> content, namely the <code>remote/master</code> branch. 
Actually everything has been downloaded, as the word clone means, but only <code>master</code> branch appears by default. 
You can check all downloaded branches by <code>git branch -a</code>.
Now you need to first switch to <code>source</code> branch, by creating a new branch with a same name in your local <code>origin</code> repo:</p>
<div class="highlight"><pre><span></span>git checkout -b source origin/source
</pre></div>


<p>Then the content in the main directory will be the <code>source</code> branch. 
Now you can just delete <code>.git</code> file to completely get rid of git structure. 
We will construct a same structure as in the original computer later.</p>
</li>
<li>
<p>As the actions mentioned previously, use those batch processing files to generate and edit blog articles and publish them:</p>
<div class="highlight"><pre><span></span>start pelrun.bat
start pelserve.bat
start pelpub.bat
</pre></div>


</li>
<li>
<p>Then just do the same thing as previous github part: in the <code>output</code> directory, </p>
<div class="highlight"><pre><span></span>git init
git add .
git commit -m &quot;your message&quot;
git remote add origin https://github.com/username/username.github.io.git
git push origin master --force
</pre></div>


<p>And in the main directory, </p>
<div class="highlight"><pre><span></span>git init
git add . 
git commit -m &quot;your message&quot;
git branch -m master source
git remote add origin https://github.com/username/username.github.io.git
git push origin source
</pre></div>


</li>
</ol>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'borzhang'; // required: replace example with your forum shortname

                    var disqus_identifier = 'procedure-of-blogging-with-pelican-and-github-on-windows';
                var disqus_url = 'https://borzhang.github.io/procedure-of-blogging-with-pelican-and-github-on-windows.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="https://borzhang.github.io/notes-on-the-book-fluent-python.html">Notes on the book Fluent Python</a></li>
    <li class="list-group-item"><a href="https://borzhang.github.io/notes-on-python.html">Notes on Python</a></li>
    <li class="list-group-item"><a href="https://borzhang.github.io/notes-on-online-learning.html">Notes on Online Learning</a></li>
    <li class="list-group-item"><a href="https://borzhang.github.io/notes-on-installing-the-development-version-of-scikit-learn.html">Notes on Installing the Development Version of Scikit-learn</a></li>
    <li class="list-group-item"><a href="https://borzhang.github.io/procedure-of-blogging-with-pelican-and-github-on-windows.html">Procedure of Blogging with Pelican and Github on Windows</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Tag Cloud -->
<li class="list-group-item">
  <a href="https://borzhang.github.io/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
  <ul class="list-group " id="tags">
    <li class="list-group-item tag-1">
      <a href="https://borzhang.github.io/tag/python.html">python</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://borzhang.github.io/tag/scikit-learn.html">scikit-learn</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://borzhang.github.io/tag/pelican.html">pelican</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://borzhang.github.io/tag/tips.html">tips</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://borzhang.github.io/tag/machine-learning.html">Machine learning</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Tag Cloud -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 borzhang
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://borzhang.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://borzhang.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://borzhang.github.io/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'borzhang'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->


</body>
</html>